<!-- overrides/home.html -->
{% extends "base.html" %}

<!-- 插入自定义 hero -->
{% block tabs %}
  {{ super() }}

  <!-- 全屏 Hero 区域 -->
  <section class="md-hero md-hero--fullscreen">
    <div class="md-grid">
      <div class="md-hero__content">
        <h1>欢迎来到我的文档中心</h1>
        <p>简洁、高效、现代化的技术文档平台。</p>
        <a href="{{ 'getting-started/' | url }}" class="md-button md-button--primary">
          开始阅读
        </a>
      </div>
    </div>

    <!-- 样式嵌入 -->
    <style>
      /* 全屏 Hero 样式 */
      .md-hero--fullscreen {
        height: 100vh;
        background-image: url("{{ 'assets/images/hero.jpg' | url }}");
        background-size: cover;
        background-position: center;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-align: center;
        margin: 0;
        padding: 0;
        position: relative;
      }

      /* 兼容移动端视口高度（解决 Safari 等浏览器 vh 问题） */
      @supports (height: 100svh) {
        .md-hero--fullscreen {
          height: 100svh;
        }
      }

      /* 响应式优化：小屏幕适配 */
      @media (max-width: 768px) {
        .md-hero--fullscreen {
          height: 80vh;
        }

        .md-hero__content h1 {
          font-size: 2rem;
        }

        .md-hero__content p {
          font-size: 1.1rem;
        }
      }

      /* 隐藏空的内容区域，防止底部空白 */
      .md-content__inner,
      .md-main__inner {
        display: none !important;
      }

      /* 确保页脚正常显示（即使内容被隐藏） */
      .md-footer {
        display: block !important;
        visibility: visible !important;
        opacity: 1;
        margin-top: 0 !important;
      }
    </style>

    <!-- 页面加载后移除空的内容容器（增强兼容性） -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const contentInner = document.querySelector(".md-content__inner");
        const contentWrapper = contentInner?.closest(".md-content");

        // 如果内容区域为空，则彻底移除
        if (contentInner && contentWrapper && !contentInner.hasChildNodes()) {
          contentWrapper.remove();
        }

        // 可选：调整 main 内部间距
        const mainInner = document.querySelector(".md-main__inner");
        if (mainInner) {
          mainInner.style.margin = "0";
          mainInner.style.padding = "0";
        }
      });
    </script>
  </section>
{% endblock %}

<!-- 清空内容区域 -->
{% block content %}{% endblock %}